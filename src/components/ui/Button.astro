---
type Variant = "primary" | "secondary";

const {
  variant = "primary",
  disabled = false,
  type = "button",
  class: className = "",
} = Astro.props as {
  variant?: Variant;
  disabled?: boolean;
  type?: "button" | "submit";
  class?: string;
};

/* --- Clases base --- */
const baseClasses = [
  "inline-flex",
  "items-center",
  "justify-center",
  "rounded-md",
  "px-4",
  "py-2",
  "text-sm",
  "font-medium",
  "transition-colors",
];

/* --- Variantes --- */
const variantClasses: Record<Variant, string[]> = {
  primary: [
    "bg-(--color-accent-primary)",
    "text-(--color-surface-main)",
    "hover:opacity-90",
  ],
  secondary: [
    "bg-transparent",
    "border",
    "border-(--color-surface-stroke)",
    "text-(--color-text-primary)",
    "hover:bg-(--color-surface-elevated)",
  ],
};

/* --- Estado disabled --- */
const disabledClasses = disabled
  ? ["opacity-60", "pointer-events-none", "cursor-not-allowed"]
  : ["cursor-pointer"];

const classes = [
  ...baseClasses,
  ...variantClasses[variant],
  ...disabledClasses,
  className,
].join(" ");
---

<button
  type={type}
  class={classes}
  disabled={disabled}
  aria-disabled={disabled ? "true" : undefined}
>
  <slot />
</button>
